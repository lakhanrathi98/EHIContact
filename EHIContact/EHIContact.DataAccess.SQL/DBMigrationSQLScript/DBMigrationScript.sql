DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'EHIContact.DataAccess.SQL.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202003190818524_InitialMigration'
BEGIN
    CREATE TABLE [dbo].[Contacts] (
        [Id] [int] NOT NULL IDENTITY,
        [FirstName] [nvarchar](30) NOT NULL,
        [LastName] [nvarchar](30),
        [Email] [nvarchar](max) NOT NULL,
        [PhoneNumber] [nvarchar](max) NOT NULL,
        [ActiveStatus] [bit] NOT NULL,
        CONSTRAINT [PK_dbo.Contacts] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202003190818524_InitialMigration', N'EHIContact.DataAccess.SQL.Migrations.Configuration',  0x1F8B0800000000000400CD58DB6EDB38107D5FA0FF20E8691748C55C5EDA406E913AC9AEB171925669DF69696C13E5454B5286FD6D7DE827ED2FEC50F78BED38695A2CFC229133672E9C391CF9DF6FDFC3F76BC1BD1568C3941CF927C1B1EF818C55C2E462E46776FEFA8DFFFEDDABDFC2AB44ACBD2F95DC9993434D6946FED2DAF49C10132F41501308166B65D4DC06B11284268A9C1E1FBF2527270410C2472CCF0B3F65D23201F90BBE8E958C21B519E553950037E53AEE4439AA774B059894C630F2AFFE9AA0B8A5B10D2EA9A517710CC604D1C71BDFBBE08CA24311F0B9EF512995A516DD3DFF6C20B25AC94594E202E50F9B14506E4EB981328CF346FCD0888E4F5D44A451ACA0E2CC58259E08787256A688F4D59F9568BF4E2126F10A936D372EEA3C9123BF4CA0EFF56D9D8FB976729D348F9586A03898A05C3BF27AFB47756D6009B9DF9137CEB8CD348C246456537EE4DD6733CEE2BF61F3A0BE821CC98CF3B69BE828EE751670E95EAB14B4DD7C8279E9FC24F13DD2D5237DC55AADA553C43591F6ECD4F76ED1389D71A8ABA09583C862407F82044D2D24F7D45AD0D261409EC781F59EAD6BA68D758F9549AC3DEC26DF9BD2F50DC8855D62FF60FB5CB33524D542E9C567C9B0F750C7EA0CB678B9DFF20D7D29C3FBED5C09CAF81E23F8F833C2BB5F2A09B7999881FEF5C62F62CB564823D466A6B2FE41290E543E821592A6FF865D993711C35A2BED384E736BB0DED69EC86465879A328EAED3056604B6DBE8E871E343419041CD01DB7CADBD6A989814545C5136D9C1D9E194A6299E498BC3CB152F2A087CFC3A7A3AA5890283C4660BB3D5DED696B083E9027ABB2E1D09E4EDE9B23CA3EEA4C6891888B5CF60477E2B4BBD34F7D9ABC97AA5E09ECB2EDA7591D547D3436B52798DD10964A33C50A89D6A887DA0995FA59453BD8518C78A6742EE22D77DDA2DAA6B83B4960FC76AC8AB0DD5AC1E8E54D2531BA65C3A1CA3C3356DA4CEC6E1785DFA68037677868821E91D7ABFC6C8A0C87A9763BF68F7F57B5FA4B65EF77DAFBFC3B2D71E1FDC06CD5788F81EA66AC512D778D1C65810793B04D13F7CCC19C6DB084CA9647330B6981F7CE48637BDA1EFFF33801163127ED814F6CB6720E692FAE894F3C40B7230F6C815D5F192EAC1FCF18353CD01B84F1E622ACCDF055DFFF11283C98F016E1B3666CCBEE8A031BC0B0F1A25F64D1245438FFC64A6D0EBC2CF660279E69C31E49790B43F1FC34B306CD140B88F4909B16BDC06B49299C8B9AA728DA1B53DAA447A4731054B13773D6BCBE618086EBB7B3A9F3ABF509EE59534836422EF329B66F6C2181033DEF94A08C97EFBF930D5F539BC4BDD9B798910D04D8621C09DFC90319ED47E5F6F29A11D10AE584AAE40AF70EA46B8C5A646BAC5FA3F0CA84CDF25A4201DD33C80483982993B19D1153CC7379C896F6041E34D754DEC0679FC20BA690F2F195D682A4C89D1E8BBBF4488FB4FE4DD7F104A6E1B45110000 , N'6.4.0')
END

